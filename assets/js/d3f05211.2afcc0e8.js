"use strict";(self.webpackChunkvector_search_workshop=self.webpackChunkvector_search_workshop||[]).push([[909],{4981:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>i,contentTitle:()=>c,default:()=>l,frontMatter:()=>a,metadata:()=>s,toc:()=>h});var o=r(5893),n=r(1151);const a={},c="\ud83d\udcd8 Implementing Vector Search",s={id:"vector-search/implementing-vector-search",title:"\ud83d\udcd8 Implementing Vector Search",description:"There are two components that you will need to do to implement vector search into your application.",source:"@site/docs/5-vector-search/3-implementing-vector-search.mdx",sourceDirName:"5-vector-search",slug:"/vector-search/implementing-vector-search",permalink:"/vector-search-workshop/docs/vector-search/implementing-vector-search",draft:!1,unlisted:!1,editUrl:"https://github.com/mongodb-developer/vector-search-workshop/blob/main/docs/5-vector-search/3-implementing-vector-search.mdx",tags:[],version:"current",sidebarPosition:3,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"\ud83d\udcd8 What Are Vectors?",permalink:"/vector-search-workshop/docs/vector-search/what-are-vector"},next:{title:"\ud83d\udc50 Create embeddings",permalink:"/vector-search-workshop/docs/vector-search/create-embeddings"}},i={},h=[{value:"Vectorize your dataset",id:"vectorize-your-dataset",level:2},{value:"Vectorize your query",id:"vectorize-your-query",level:2}];function d(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,n.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.h1,{id:"-implementing-vector-search",children:"\ud83d\udcd8 Implementing Vector Search"}),"\n",(0,o.jsx)(t.p,{children:"There are two components that you will need to do to implement vector search into your application."}),"\n",(0,o.jsx)(t.h2,{id:"vectorize-your-dataset",children:"Vectorize your dataset"}),"\n",(0,o.jsx)(t.p,{children:"First, you will need to create this mathematical representation of your data. This is called vectorization. In the Create Vectors section, you will learn how to create vectors with some of the major encoders."}),"\n",(0,o.jsxs)(t.p,{children:["You will use ",(0,o.jsx)(t.a,{href:"https://js.langchain.com/docs/get_started/introduction",children:"LangChain JS"})," to create vectors for your dataset. LangChain JS is a JavaScript library that allows you to create vectors from text data. You can use it to create vectors for your dataset and for your query."]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-javascript",children:'import { MongoDBAtlasVectorSearch } from "@langchain/mongodb";\n... \n await MongoDBAtlasVectorSearch.fromDocuments(\n    docs,\n    new OpenAIEmbeddings(),\n    {\n      collection,\n      indexName: "vector_index",\n      textKey: "text",\n      embeddingKey: "embedding",\n    }\n  );\n'})}),"\n",(0,o.jsx)(t.h2,{id:"vectorize-your-query",children:"Vectorize your query"}),"\n",(0,o.jsx)(t.p,{children:"The second component is to vectorize your query. This is the same process as vectorizing your dataset, but instead of vectorizing a large dataset, you are vectorizing a single query."}),"\n",(0,o.jsx)(t.p,{children:"It is important to use the same encoder for both your dataset and your query. This is because the encoder learns a specific way to represent the data. If you use a different encoder, the vectors will be different and the search will not work."}),"\n",(0,o.jsxs)(t.p,{children:["The query is performed by the ",(0,o.jsx)(t.a,{href:"https://js.langchain.com/docs/get_started/introduction",children:"LangChain JS"})," library. You can use the ",(0,o.jsx)(t.code,{children:"MongoDBAtlasVectorSearch"})," class to perform the search."]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-javascript",children:'import { MongoDBAtlasVectorSearch } from "@langchain/mongodb";\n...\nconst vectorStore = new MongoDBAtlasVectorSearch(\n        new OpenAIEmbeddings({\n          stripNewLines: true,\n        }), dbConfig);\n        \nconst question = await req.text();\nconst retriever = await vectorStore.asRetriever({\nsearchType: "mmr", // Defaults to "similarity\nsearchKwargs: {\n    fetchK: 20,\n    lambda: 0.1,\n},\n});\n'})})]})}function l(e={}){const{wrapper:t}={...(0,n.a)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},1151:(e,t,r)=>{r.d(t,{Z:()=>s,a:()=>c});var o=r(7294);const n={},a=o.createContext(n);function c(e){const t=o.useContext(a);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:c(e.components),o.createElement(a.Provider,{value:t},e.children)}}}]);